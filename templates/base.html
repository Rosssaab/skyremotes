<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %} - Sky Remotes</title>
    
    <!-- Fixed Darkly theme -->
    <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.1.3/dist/darkly/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    {% block extra_css %}{% endblock %}
    <style>
        @font-face {
            font-family: 'Sky Text';
            src: url('https://assets.sky.com/fonts/sky_regular-webfont.woff2') format('woff2');
        }
        
        .sky-brand {
            display: flex;
            align-items: center;
            font-family: 'Sky Text', Arial, sans-serif;
        }
        
        .sky-brand img {
            height: 24px;
            margin-right: 8px;
        }
        
        .sky-brand span {
            font-size: 20px;
            color: #333;
            font-weight: normal;
            letter-spacing: -0.2px;
        }
        
        .navbar-nav .nav-link {
            padding: 0.5rem 1rem;
            margin: 0.2rem;
            transition: all 0.3s ease;
        }
        
        .navbar-nav .nav-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            background-color: var(--bs-primary);
            color: white !important;
        }
        
        .navbar-nav .nav-link.btn-outline-success:hover {
            background-color: var(--bs-success);
        }
        
        .navbar-nav .nav-link.active {
            background-color: var(--bs-primary);
            color: white !important;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        @media (max-width: 991px) {
            .navbar-nav .nav-link {
                text-align: center;
                margin: 0.2rem 0;
            }
        }

        .header-banner {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header-logo {
            width: 64px;
            height: auto;
            object-fit: contain;
        }

        .header-banner h1 {
            font-size: 1.8rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .header-banner .text-muted {
            color: rgba(255,255,255,0.8) !important;
            font-size: 0.9rem;
        }

        .header-banner .contact-info {
            font-size: 0.85rem;
            color: rgba(255,255,255,0.9);
        }

        .header-banner .contact-info i {
            color: rgba(255,255,255,0.8);
        }

        @media (max-width: 768px) {
            .header-banner .contact-info {
                display: none;
            }
            
            .header-banner h1 {
                font-size: 1.5rem;
            }
            
            .header-logo {
                width: 48px;
            }
        }
    </style>
</head>
<body>
    <!-- Professional Header Banner -->
    <div class="header-banner">
        <div class="container">
            <div class="d-flex align-items-center justify-content-between py-3">
                <img src="{{ url_for('static', filename='images/SkyRemoteLogoLeft.png') }}" 
                     alt="Sky Remote Logo" 
                     class="header-logo"
                     style="width: 64px; height: auto;">
                <div class="text-center">
                    <h1 class="mb-0">Sky Remotes</h1>
                    <p class="text-muted mb-0">Genuine Sky Remote Controls</p>
                    <div class="contact-info mt-1">
                        <span class="me-3"><i class="fas fa-envelope me-1"></i>info@skyremotes.co.uk</span>
                        <span><i class="fas fa-clock me-1"></i>Orders before 1PM ship same day</span>
                    </div>
                </div>
                <img src="{{ url_for('static', filename='images/SkyRemoteLogoRight.png') }}" 
                     alt="Sky Remote Logo" 
                     class="header-logo"
                     style="width: 64px; height: auto;">
            </div>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link btn btn-outline-primary mx-1 {{ 'active' if request.endpoint == 'home' }}" href="{{ url_for('home') }}">
                            <i class="fas fa-home"></i> Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn btn-outline-primary mx-1 {{ 'active' if request.endpoint == 'buy' }}" href="{{ url_for('buy') }}">
                            <i class="fas fa-shopping-bag"></i> Order
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn btn-outline-primary mx-1 {{ 'active' if request.endpoint == 'about' }}" href="{{ url_for('about') }}">
                            <i class="fas fa-info-circle"></i> About
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn btn-outline-primary mx-1 {{ 'active' if request.endpoint == 'contact' }}" href="{{ url_for('contact') }}">
                            <i class="fas fa-envelope"></i> Contact
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn btn-outline-primary mx-1 {{ 'active' if request.endpoint == 'help' }}" href="{{ url_for('help') }}">
                            <i class="fas fa-question-circle"></i> Help
                        </a>
                    </li>
                    <li class="nav-item ms-lg-auto">
                        <a class="nav-link btn btn-outline-primary mx-1 {{ 'active' if request.endpoint == 'cart' }}" href="{{ url_for('cart') }}">
                            <i class="fas fa-shopping-cart"></i> Cart
                            <span class="badge bg-primary" id="cart-count">0</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Sky Remotes</h5>
                    <p>Your source for premium Sky Remotes in the UK</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-2">
                        <i class="fas fa-envelope me-2"></i>
                        Email: <a href="mailto:info@skyremotes.co.uk" class="text-light">info@skyremotes.co.uk</a>
                    </p>
                    <p class="mb-0">
                        <i class="fas fa-phone me-2"></i>
                        Helpline: <a href="tel:+447737463348" class="text-light">+44 7737 463348</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script>
    function changeTheme(theme) {
        const themeLink = document.getElementById('theme-style');
        if (theme === 'default') {
            themeLink.href = 'https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css';
        } else {
            themeLink.href = `https://cdn.jsdelivr.net/npm/bootswatch@5.1.3/dist/${theme}/bootstrap.min.css`;
        }
        
        // Save theme preference
        localStorage.setItem('preferred-theme', theme);
    }

    // Load saved theme preference
    document.addEventListener('DOMContentLoaded', function() {
        const savedTheme = localStorage.getItem('preferred-theme');
        if (savedTheme) {
            document.getElementById('themeSelector').value = savedTheme;
            changeTheme(savedTheme);
        }
    });

    // Load cart count only if there's actually something in the cart
    document.addEventListener('DOMContentLoaded', function() {
        const cart = JSON.parse(localStorage.getItem('cart')) || { items: [] };
        const cartCount = document.getElementById('cart-count');
        if (cart.items.length > 0) {
            cartCount.textContent = cart.items[0].quantity;
        } else {
            cartCount.textContent = '0';
        }
    });
    </script>
</body>
</html> 